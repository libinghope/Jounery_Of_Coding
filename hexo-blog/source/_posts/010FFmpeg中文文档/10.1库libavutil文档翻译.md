---
title: 库libavutil文档翻译
date: 2020/6/23
comments: true
categories:
  - FFmpeg

permalink: "10.1"
---
## 包含模块概述

* Crypto and Hashing 加密与哈希
* Mathematics 数学工具，根时间戳(tmiestamp)和时间(time)一起工作。
* String Manipulation 字符串操作
* Memory Manipulation 内存操作工具
* Data Structures 数据结构
* Video related 视频相关
* Audio related 音频相关
* Error Codes 错误码
* Logging Facility 日志工具
* Other

## 相关文件

文件: **avutil.h**

方便使用的头文件，包含了libavutil的核心

文件: macros.h

实用的预处理宏

文件: version.h

版本相关的宏定义

## 详细信息

libavutil 是ffmpeg库的通用共享库，

注意:
libavutil是模块化设计的。在大多数情况下，为了调用libavutil的组件提供的功能，你必须显式地明确指出所包含的头文件。如果你只是实用媒体相关的组件，你只需要包含libutil/avutil.h就可以了，此头文件提供了大部分 核心功能.

libavutil is designed to be modular. In most cases, in order to use the functions provided by one component of libavutil you must explicitly include the specific header containing that feature. If you are only using media-related components, you could simply include libavutil/avutil.h, which brings in most of the "core" components.

## 模块API

函数原型: uint32_t av_get_random_seed (void)  
功能: 获取随机数种子

## Crypto and Hashing 子模块

### AES 模块API

函数原型: struct AVAES * av_aes_alloc (void)  
功能: 开辟AVAES上下文内存空间

函数原型: int av_aes_init (struct AVAES *a, const uint8_t*key, int key_bits, int decrypt)
功能: 初始化AVAES上下文内存空间

函数原型: void av_aes_crypt (struct AVAES *a, uint8_t*dst, const uint8_t *src, int count, uint8_t *iv, int decrypt)
功能: 加密或解密已经初始化的AVAES context

### base64 模块API

宏定义:  
\#define AV_BASE64_DECODE_SIZE(x) ((x) * 3LL / 4) //计算将长度为x的base64字符串解码到数据缓冲区所需的输出空间大小（以字节为单位）  
\#define AV_BASE64_SIZE(x) (((x)+2) / 3 * 4 + 1) //计算将x个字节数据进行base64编码以null终止的字符串所需的输出空间大小。  

函数原型: int av_base64_decode (uint8_t *out, const char *in, int out_size)  
功能: 解码一个base64方法加密的字符串.  

函数原型: char *av_base64_encode (char*out, int out_size, const uint8_t *in, int in_size)  
功能: 以base64方式编码一个字符串.
